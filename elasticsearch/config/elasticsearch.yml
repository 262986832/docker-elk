## Default Elasticsearch configuration from elasticsearch-docker.
## from https://github.com/elastic/elasticsearch-docker/blob/master/build/elasticsearch/elasticsearch.yml
cluster.name: "elk-cluster"
node.name: "es-node-3"
node.master: true
network.host: 0.0.0.0

network.publish_host: 10.42.X.A

## https://www.elastic.co/guide/en/elasticsearch/reference/6.3/setup-configuration-memory.html
bootstrap.memory_lock: true

discovery.zen.ping.unicast.hosts: ["10.42.X.A:9300", "10.42.X.B:9300", "10.42.X.C:9300"]
discovery.zen.fd.ping_timeout: 120s
discovery.zen.fd.ping_retries: 6
discovery.zen.fd.ping_interval: 30s

indices.fielddata.cache.size: 30%

gateway.recover_after_nodes: 2
gateway.expected_nodes: 3
gateway.recover_after_time: 5m

# minimum_master_nodes need to be explicitly set when bound on a public IP
# set to 1 to allow single node clusters
# Details: https://github.com/elastic/elasticsearch/pull/17288
# recommend set: (masters) / 2 + 1
discovery.zen.minimum_master_nodes: 2